!function(e){function t(t){for(var a,o,r=t[0],s=t[1],i=0,c=[];i<r.length;i++)o=r[i],n[o]&&c.push(n[o][0]),n[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(l&&l(t);c.length;)c.shift()()}var a={},n={0:0};function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],a=n[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise(function(t,o){a=n[e]=[t,o]});t.push(a[2]=r);var s,i=document.createElement("script");i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.src=function(e){return o.p+"./js/"+e+".bundle.js"}(e),s=function(t){i.onerror=i.onload=null,clearTimeout(l);var a=n[e];if(0!==a){if(a){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+o+": "+r+")");s.type=o,s.request=r,a[1](s)}n[e]=void 0}};var l=setTimeout(function(){s({type:"timeout",target:i})},12e4);i.onerror=i.onload=s,document.head.appendChild(i)}return Promise.all(t)},o.m=e,o.c=a,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/dist/",o.oe=function(e){throw console.error(e),e};var r=window.webpackJsonp=window.webpackJsonp||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var i=0;i<r.length;i++)t(r[i]);var l=s;o(o.s=3)}([function(e,t){e.exports=jQuery},function(e,t){e.exports=Swiper},,function(e,t,a){e.exports=a(4)},function(e,t,a){"use strict";var n,o=a(0),r=(n=o)&&n.__esModule?n:{default:n};a(5),a(6),a(7),a(8),a(10),a(11),a(13),window.$=r.default,document.addEventListener("DOMContentLoaded",window.yall)},function(e,t){},function(e,t,a){"use strict";var n,o=a(0);(0,((n=o)&&n.__esModule?n:{default:n}).default)(document).ready(function(e){var t=function(t){t.stopPropagation(),e(t.currentTarget).hasClass("m-dropdown")||e(t.currentTarget).hasClass("m-dropdown__current")||e(t.currentTarget).hasClass("m-dropdown__item")||e(".m-dropdown--opened").removeClass("m-dropdown--opened")},a=function(t){t.preventDefault(),t.stopPropagation(),e(this).hasClass("m-dropdown--opened")?e(this).removeClass("m-dropdown--opened"):e(this).addClass("m-dropdown--opened")},n=function(t){e(this).parents(".m-dropdown").find(".m-dropdown__current").text(e(this).text()).addClass("m-dropdown__current--not-empty"),e(this).parents(".floating-label").find("input").val(e(this).text()),e(this).parents(".floating-label").find("input").trigger("change")};e(document).on("click",".m-dropdown",a),e(document).on("click",".m-dropdown__item",n),e(window).on("click",t)})},function(e,t,a){"use strict";var n,o=a(0);(0,((n=o)&&n.__esModule?n:{default:n}).default)(document).ready(function(e){var t={toggle:function(a){if(a.preventDefault(),void 0!==e(this)){var n=e(e(this).data("target"));return n.hasClass("m-modal--opened")?(n.trigger("modalclosed"),n.removeClass("m-modal--opened"),t.removeOverlay()):(n.trigger("modalopened"),n.addClass("m-modal--opened"),t.addOverlay(n)),n}console.log("Function is called outside the scope of jquery func.")},open:function(t){if(t.preventDefault(),void 0!==e(this)){var a=e(this);return a.hasClass("m-modal--opened")||(a.trigger("modalopened"),a.addClass("m-modal--opened")),a}console.log("Function is called outside the scope of jquery func.")},close:function(a){if(a.preventDefault(),void 0!==e(this)){var n=e(this);return n.hasClass("m-modal--opened")&&(n.trigger("modalclosed"),n.removeClass("m-modal--opened"),t.removeOverlay()),n}console.log("Function is called outside the scope of jquery func.")},addOverlay:function(t){if(void 0===t)return console.log("Error: no object scope provided"),!1;e(t).prepend('<div class="m-modal-overlay"></div>'),e("body").addClass("modal-open")},removeOverlay:function(t){e(".m-modal-overlay").remove(),e("body").removeClass("modal-open")},closeAll:function(a){e(".m-modal").removeClass("m-modal--opened"),t.removeOverlay()}};e(document).on("click",".m-modal-overlay",t.closeAll),e("[data-toggle=modal]").on("click",t.toggle),e(document).on("keydown",function(e){27==e.which&&t.closeAll()})})},function(e,t,a){"use strict";var n=r(a(1)),o=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}a(9),window.$=o.default,window.jQuery=o.default;var s=new n.default("#testimonials",{slidesPerView:2,spaceBetween:51,pagination:{el:"#testimonials-pagination",clickable:!0},navigation:{nextEl:"#testimonials-button-next",prevEl:"#testimonials-button-prev"},breakpoints:{992:{slidesPerView:1,spaceBetween:70}},init:!1});if(s.on("init",function(){for(var e=(0,o.default)("#testimonials-pagination>span"),t=0;t<e.length;t++)(0,o.default)(e[t]).attr("id","testimonials_bullets_"+t)}),s.init(),(0,o.default)(window).width()<=768)new n.default(".note-books-wrapper",{slidesPerView:1,pagination:{el:"#notebooks-pagination",clickable:!0},navigation:{nextEl:"#notebooks-button-next",prevEl:"#notebooks-button-prev"}});(0,o.default)(document).ready(function(e){e(".route__step").on("mouseenter",function(){e(this).hasClass("route__step--active")||e(this).prev(".route__step").find(".sep-vert").addClass("sep-vert--transform")}),e(".route__step").on("mouseleave",function(){e(this).hasClass("route__step--active")||e(this).prev(".route__step").find(".sep-vert").removeClass("sep-vert--transform")}),e(".questions__item").on("click",function(t){e(".questions__item").removeClass("questions__item--active"),e(this).addClass("questions__item--active")}),e("#phone-top,#phone-bottom").mask("+7 (999) 999-99-99"),e("[data-mask=phone]").mask("+7 (999) 999-99-99"),e(".s1-icon").on("click",function(){e("#phone-top").focus()}),e(".phone").on("click",function(){e("#phone-bottom").focus()}),e(".floating-label:not(.floating-label--textarea)").on("click",function(){e(this).find("input").focus()}),e(".floating-label--textarea").on("click",function(){e(this).find("textarea").focus()}),e(".floating-label input,.floating-label textarea").on("focus",function(){e(this).parent().addClass("floating-label--focused")}),e(".floating-label input,.floating-label textarea").on("blur",function(){e(this).parent().removeClass("floating-label--focused")});var t=function(t){e(this).val().length>0?e(this).addClass("not-empty"):e(this).removeClass("not-empty")},a=function(){e(this).addClass("not-empty")};e("input").on("blur",t),e("input").on("focus",a);e("textarea").on("blur",t),e("textarea").on("focus",a),e(".s1-icon:first-child").on("mouseenter",function(){e(".arr-top").addClass("arr-top--active")}),e(".s1-icon:first-child").on("mouseleave",function(){e(".arr-top").removeClass("arr-top--active")}),e(".header-menu__item > a,.mobile-menu a").on("click",function(t){t.preventDefault();var a=e(this).attr("href"),n=e(a).offset().top;return e("html,body").animate({scrollTop:n},400),e(".mobile-menu").removeClass("mobile-menu--active"),e(".mobile-menu").trigger("mutation"),!1}),e(".m-modal").on("modalopened",function(){var t=e(this).find("input:first-child");t.length>0&&setTimeout(function(){t[0].focus()},400)}),e(".floating-label--file .btn").on("click",function(t){t.preventDefault(),e(this).next().trigger("click")}),e(".floating-label--file input").on("change",function(t){var a=e(this).val().split(/(\\|\/)/g).pop();e(this).next().text(a),e(this).next().addClass("not-empty")}),e(".mobile-menu-toggler,.mobile-menu-overlay").on("click",function(){e(".mobile-menu").toggleClass("mobile-menu--active"),e(".mobile-menu").trigger("mutation")}),e(".mobile-menu").on("mutation",function(){e(this).hasClass("mobile-menu--active")?(e(".mobile-menu-overlay").fadeIn(300),e("html,body").addClass("mobile-menu-is-open")):(e(".mobile-menu-overlay").fadeOut(300),e("html,body").removeClass("mobile-menu-is-open"))})});var i=(0,o.default)(window),l=(0,o.default)(document),c=(0,o.default)("#prefooter"),u=(0,o.default)("body");i.on("scroll",function e(){window.requestAnimationFrame(function(){var t=i.height();c.offset().top-l.scrollTop()<t&&((0,o.default)(".phone").addClass("animate"),i.off("scroll",e))})}),u.on("scroll",function e(){window.requestAnimationFrame(function(){c.offset().top<60&&((0,o.default)(".phone").addClass("animate"),u.off("scroll",e))})}),(0,o.default)(document).ready(function(){(0,o.default)(window).width()>=768&&(0,o.default)("#map-holder").html('<script type="text/javascript" charset="utf-8" async src="https://api-maps.yandex.ru/services/constructor/1.0/js/?um=constructor%3Abc8de033ccad85b440e3effd6cae68f1c65fc86e6c60ed84d63420daa76ea4ff&amp;width=100%25&amp;height=570&amp;lang=ru_RU&amp;scroll=true"><\/script>')})},function(e,t,a){var n,o,r;window.jQuery,window.Zepto,o=[a(0)],void 0===(r="function"==typeof(n=function(e){"use strict";var t=function(t,a,n){var o={invalid:[],getCaret:function(){try{var e,a=0,n=t.get(0),r=document.selection,s=n.selectionStart;return r&&-1===navigator.appVersion.indexOf("MSIE 10")?((e=r.createRange()).moveStart("character",-o.val().length),a=e.text.length):(s||"0"===s)&&(a=s),a}catch(e){}},setCaret:function(e){try{if(t.is(":focus")){var a,n=t.get(0);n.setSelectionRange?n.setSelectionRange(e,e):((a=n.createTextRange()).collapse(!0),a.moveEnd("character",e),a.moveStart("character",e),a.select())}}catch(e){}},events:function(){t.on("keydown.mask",function(e){t.data("mask-keycode",e.keyCode||e.which),t.data("mask-previus-value",t.val()),t.data("mask-previus-caret-pos",o.getCaret()),o.maskDigitPosMapOld=o.maskDigitPosMap}).on(e.jMaskGlobals.useInput?"input.mask":"keyup.mask",o.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){t.keydown().keyup()},100)}).on("change.mask",function(){t.data("changed",!0)}).on("blur.mask",function(){i===o.val()||t.data("changed")||t.trigger("change"),t.data("changed",!1)}).on("blur.mask",function(){i=o.val()}).on("focus.mask",function(t){!0===n.selectOnFocus&&e(t.target).select()}).on("focusout.mask",function(){n.clearIfNotMatch&&!r.test(o.val())&&o.val("")})},getRegexMask:function(){for(var e,t,n,o,r,i,l=[],c=0;c<a.length;c++)(e=s.translation[a.charAt(c)])?(t=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=e.optional,(o=e.recursive)?(l.push(a.charAt(c)),r={digit:a.charAt(c),pattern:t}):l.push(n||o?t+"?":t)):l.push(a.charAt(c).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return i=l.join(""),r&&(i=i.replace(new RegExp("("+r.digit+"(.*"+r.digit+")?)"),"($1)?").replace(new RegExp(r.digit,"g"),r.pattern)),new RegExp(i)},destroyEvents:function(){t.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(e){var a,n=t.is("input"),o=n?"val":"text";return arguments.length>0?(t[o]()!==e&&t[o](e),a=t):a=t[o](),a},calculateCaretPosition:function(){var e=t.data("mask-previus-value")||"",a=o.getMasked(),n=o.getCaret();if(e!==a){var r=t.data("mask-previus-caret-pos")||0,s=a.length,i=e.length,l=0,c=0,u=0,d=0,f=0;for(f=n;f<s&&o.maskDigitPosMap[f];f++)c++;for(f=n-1;f>=0&&o.maskDigitPosMap[f];f--)l++;for(f=n-1;f>=0;f--)o.maskDigitPosMap[f]&&u++;for(f=r-1;f>=0;f--)o.maskDigitPosMapOld[f]&&d++;if(n>i)n=10*s;else if(r>=n&&r!==i){if(!o.maskDigitPosMapOld[n]){var p=n;n-=d-u,n-=l,o.maskDigitPosMap[n]&&(n=p)}}else n>r&&(n+=u-d,n+=c)}return n},behaviour:function(a){a=a||window.event,o.invalid=[];var n=t.data("mask-keycode");if(-1===e.inArray(n,s.byPassKeys)){var r=o.getMasked(),i=o.getCaret();return setTimeout(function(){o.setCaret(o.calculateCaretPosition())},e.jMaskGlobals.keyStrokeCompensation),o.val(r),o.setCaret(i),o.callbacks(a)}},getMasked:function(e,t){var r,i,l,c=[],u=void 0===t?o.val():t+"",d=0,f=a.length,p=0,m=u.length,h=1,v="push",g=-1,b=0,k=[];for(n.reverse?(v="unshift",h=-1,r=0,d=f-1,p=m-1,i=function(){return d>-1&&p>-1}):(r=f-1,i=function(){return d<f&&p<m});i();){var y=a.charAt(d),w=u.charAt(p),C=s.translation[y];C?(w.match(C.pattern)?(c[v](w),C.recursive&&(-1===g?g=d:d===r&&d!==g&&(d=g-h),r===g&&(d-=h)),d+=h):w===l?(b--,l=void 0):C.optional?(d+=h,p-=h):C.fallback?(c[v](C.fallback),d+=h,p-=h):o.invalid.push({p:p,v:w,e:C.pattern}),p+=h):(e||c[v](y),w===y?(k.push(p),p+=h):(l=y,k.push(p+b),b++),d+=h)}var _=a.charAt(r);f!==m+1||s.translation[_]||c.push(_);var x=c.join("");return o.mapMaskdigitPositions(x,k,m),x},mapMaskdigitPositions:function(e,t,a){var r=n.reverse?e.length-a:0;o.maskDigitPosMap={};for(var s=0;s<t.length;s++)o.maskDigitPosMap[t[s]+r]=1},callbacks:function(e){var r=o.val(),s=r!==i,l=[r,e,t,n],c=function(e,t,a){"function"==typeof n[e]&&t&&n[e].apply(this,a)};c("onChange",!0===s,l),c("onKeyPress",!0===s,l),c("onComplete",r.length===a.length,l),c("onInvalid",o.invalid.length>0,[r,e,t,o.invalid,n])}};t=e(t);var r,s=this,i=o.val();a="function"==typeof a?a(o.val(),void 0,t,n):a,s.mask=a,s.options=n,s.remove=function(){var e=o.getCaret();return s.options.placeholder&&t.removeAttr("placeholder"),t.data("mask-maxlength")&&t.removeAttr("maxlength"),o.destroyEvents(),o.val(s.getCleanVal()),o.setCaret(e),t},s.getCleanVal=function(){return o.getMasked(!0)},s.getMaskedVal=function(e){return o.getMasked(!1,e)},s.init=function(i){if(i=i||!1,n=n||{},s.clearIfNotMatch=e.jMaskGlobals.clearIfNotMatch,s.byPassKeys=e.jMaskGlobals.byPassKeys,s.translation=e.extend({},e.jMaskGlobals.translation,n.translation),s=e.extend(!0,{},s,n),r=o.getRegexMask(),i)o.events(),o.val(o.getMasked());else{n.placeholder&&t.attr("placeholder",n.placeholder),t.data("mask")&&t.attr("autocomplete","off");for(var l=0,c=!0;l<a.length;l++){var u=s.translation[a.charAt(l)];if(u&&u.recursive){c=!1;break}}c&&t.attr("maxlength",a.length).data("mask-maxlength",!0),o.destroyEvents(),o.events();var d=o.getCaret();o.val(o.getMasked()),o.setCaret(d)}},s.init(!t.is("input"))};e.maskWatchers={};var a=function(){var a=e(this),o={},r=a.attr("data-mask");if(a.attr("data-mask-reverse")&&(o.reverse=!0),a.attr("data-mask-clearifnotmatch")&&(o.clearIfNotMatch=!0),"true"===a.attr("data-mask-selectonfocus")&&(o.selectOnFocus=!0),n(a,r,o))return a.data("mask",new t(this,r,o))},n=function(t,a,n){n=n||{};var o=e(t).data("mask"),r=JSON.stringify,s=e(t).val()||e(t).text();try{return"function"==typeof a&&(a=a(s)),"object"!=typeof o||r(o.options)!==r(n)||o.mask!==a}catch(e){}};e.fn.mask=function(a,o){o=o||{};var r=this.selector,s=e.jMaskGlobals,i=s.watchInterval,l=o.watchInputs||s.watchInputs,c=function(){if(n(this,a,o))return e(this).data("mask",new t(this,a,o))};return e(this).each(c),r&&""!==r&&l&&(clearInterval(e.maskWatchers[r]),e.maskWatchers[r]=setInterval(function(){e(document).find(r).each(c)},i)),this},e.fn.masked=function(e){return this.data("mask").getMaskedVal(e)},e.fn.unmask=function(){return clearInterval(e.maskWatchers[this.selector]),delete e.maskWatchers[this.selector],this.each(function(){var t=e(this).data("mask");t&&t.remove().removeData("mask")})},e.fn.cleanVal=function(){return this.data("mask").getCleanVal()},e.applyDataMask=function(t){var n=(t=t||e.jMaskGlobals.maskElements)instanceof e?t:e(t);n.filter(e.jMaskGlobals.dataMaskAttr).each(a)};var o,r,s,i={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&(o="input",s=document.createElement("div"),(r=(o="on"+o)in s)||(s.setAttribute(o,"return;"),r="function"==typeof s[o]),s=null,r),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};e.jMaskGlobals=e.jMaskGlobals||{},(i=e.jMaskGlobals=e.extend(!0,{},i,e.jMaskGlobals)).dataMask&&e.applyDataMask(),setInterval(function(){e.jMaskGlobals.watchDataMask&&e.applyDataMask()},i.watchInterval)})?n.apply(t,o):n)||(e.exports=r)},function(e,t,a){"use strict";function n(e){return void 0===e.validate||(e.validate.required&&0==e.value.length?{error:e.validate.required.error}:e.validate.pattern&&!e.value.match(e.validate.pattern.reg)?{error:e.validate.pattern.error}:!e.validate.callback||e.validate.callback(e.value))}function o(e){var t=e.data;e.preventDefault();var a=[];for(var o in t.fields)if(t.fields.hasOwnProperty(o)){var r=$(this).find('[data-field="'+o+'"]'),c=r.val();t.fields[o].value=c;var u=n(t.fields[o]);!0!==u?("function"==typeof t.fields[o].onError?t.fields[o].onSubmitError(r,u):s(r,u),a.push(u)):"function"==typeof t.fields[o].onSuccess?t.fields[o].onSuccess(r):i(r)}if(0==a.length){var f=$(this),p=d.filter(function(e){return e.id==f.attr("id")});0==p.length?(console.log("No form set"),l($(this))):"function"==typeof p[0].onFormSuccess?p[0].onFormSuccess($(this)):l($(this))}}function r(e){var t=e.data,a=$(this);t.value=a.val();var o=n(t);!0!==o?"function"==typeof t.onError?t.onFieldError(a,o):function(e,t){$(e).parent().addClass("has-error"),$(e).parent().removeClass("has-success")}(a):"function"==typeof t.onSuccess?t.onSuccess(a):i(a)}function s(e,t){$(e).parent().addClass("has-error"),$(e).parent().removeClass("has-success"),0==$(e).parent().find(".error-text").length&&$(e).parent().append('<span class="error-text">'+t.error+"</span>")}function i(e){$(e).parent().removeClass("has-error"),$(e).parent().addClass("has-success"),$(e).parent().find(".error-text").remove()}function l(e){console.log(e,"success")}for(var c=function(e){var t=e.serialize();t+="&r="+document.referrer,e.addClass("is-loading"),e.find("button").attr("disabled","disabled"),$.ajax({url:"/backend/send",method:"POST",data:t,context:e,success:function(e){var t=$(this);dataLayer.push({event:"formsend",eventCategory:"form",eventAction:"send-btn",eventLabel:t.attr("id")}),console.log(e),setTimeout(function(){t.removeClass("is-loading"),t.addClass("is-success"),t.append('<span class="message message-success">'+e+"</span>")},2e3)},error:function(t){console.log(t),setTimeout(function(){e.removeClass("is-loading"),e.addClass("is-error"),t.responseText&&t.responseText.length>0?e.append('<span class="message message-error">Ошибка '+t.responseText+"</span>"):e.append('<span class="message message-error">Ошибка '+t.status+" "+t.statusText+"</span>")},2e3)}})},u={phone:{value:"",validate:{required:{error:"Заполните поле телефон"},pattern:{reg:/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/,error:"Заполните поле телефон в правильном формате"}}},name:{value:"",validate:{required:{error:"Заполните поле имя"},pattern:{reg:/[а-яА-Я\s]+/,error:"В поле имени введены недопустимые символы"}}},description:{value:"",validate:{required:{error:"Введите описание ноутбука"},callback:function(e){return e.length>10&&e.length<200||{error:"Длина описания должна быть больше 10 и меньше 200 символов"}}}},model:{value:"",validate:{required:{error:"Укажите, пожалуйста, модель ноутбука"},callback:function(e){return e.length>4&&e.length<50||{error:"Длина названия модели должна быть больше 4 и меньше 50 символов"}}}},notebook:{value:"",validate:{required:{error:"Укажите, пожалуйста, марку ноутбука"}}},state:{value:"",validate:{required:{error:"Укажите, пожалуйста, состояние ноутбука"}}},photo:{value:"",validate:{required:{error:"Укажите, пожалуйста, фото ноутбука"}}}},d=[{id:"s1-form",fields:{phone:u.phone},onFormSuccess:c},{id:"modal-form-2",fields:{phone:u.phone},onFormSuccess:c},{id:"prefooter-form",fields:{phone:u.phone},onFormSuccess:c},{id:"modal-form",fields:{name:u.name,phone:u.phone,description:u.description,notebook:u.notebook,photo:u.photo,state:u.state,model:u.model},onFormSuccess:function(e){console.log(e[0]);var t=new FormData(e[0]);t.append("r",document.referrer),e.addClass("is-loading"),e.find("button").attr("disabled","disabled"),$.ajax({url:"/backend/detailed",method:"POST",data:t,context:e,processData:!1,contentType:!1,success:function(e){var t=$(this);console.log(t.attr("id"),e),dataLayer.push({event:"formsend",eventCategory:"form",eventAction:"send-btn",eventLabel:t.attr("id")}),setTimeout(function(){t.removeClass("is-loading"),t.addClass("is-success"),t.append('<span class="message message-success">'+e+"</span>")},2e3)},error:function(t){console.log($(this),t),$(this).removeClass("is-loading"),e.addClass("is-error"),t.responseText&&t.responseText.length>0?e.append('<span class="message message-error">Ошибка '+t.responseText+"</span>"):e.append('<span class="message message-error">Ошибка '+t.status+" "+t.statusText+"</span>")}})}}],f=0;f<d.length;f++)for(var p in $("#"+d[f].id).on("submit",d[f],o),d[f].fields)$("#"+d[f].id).find('[data-field="'+p+'"]').on("keyup",d[f].fields[p],r),$("#"+d[f].id).find('[data-field="'+p+'"]').on("change",d[f].fields[p],r);$(document).on("click",".error-text",function(e){$(this).remove()}),$('[data-field="phone"]').on("keypress",function(e){$(this).val($(this).val().replace(/^\+7 \(8/,"+7 ("))})},function(e,t,a){"use strict";var n=r(a(0)),o=r(a(12));function r(e){return e&&e.__esModule?e:{default:e}}(0,n.default)(window).width()>640?(window.onYouTubeIframeAPIReady=function(){o.default.player=new window.YT.Player("player",{height:"365",width:"508",videoId:"0E9TOPqcttg",events:{onReady:o.default.onPlayerReady.bind(this),onStateChange:o.default.initTimer.bind(this)}})},o.default.init()):setTimeout(function(){a.e(1).then(a.t.bind(null,2,7)).then(function(e){return e.default}).catch(function(e){return"An error occurred while loading the component"}).then(function(e){e.render()})},6e3)},function(e,t,a){"use strict";var n,o=a(0),r=(n=o)&&n.__esModule?n:{default:n};e.exports=new function(){this.initLabels=function(){this.labels=[{time:0,element:(0,r.default)(".route__step:nth-child(1)")},{time:28,element:(0,r.default)(".route__step:nth-child(2)")},{time:45,element:(0,r.default)(".route__step:nth-child(3)")},{time:75,element:(0,r.default)(".route__step:nth-child(4)")},{time:105,element:(0,r.default)(".route__step:nth-child(5)")}];for(var e=0;e<this.labels.length;e++)this.labels[e].element.on("click",this.labels[e].time,function(e){this.player.seekTo(e.data)}.bind(this))},this.initTimer=function(e){1==e.data?((0,r.default)(".route__step--active a").removeClass("paused"),this.timer=setInterval(function(){this.switchLabels(this.player.getCurrentTime())},300)):(2==e.data&&(0,r.default)(".route__step--active a").addClass("paused"),clearInterval(this.timer))},this.switchLabels=function(e){for(var t=this.labels.length-1;t>=0;t--)t==this.labels.length-1&&e>=this.labels[t].time?this.currentLabel!=this.labels.indexOf(this.labels[t])&&(this.currentLabel=this.labels.indexOf(this.labels[t]),this.labels[t].element.find("a").trigger("reached")):void 0!==this.labels[t+1]&&e>=this.labels[t].time&&e<this.labels[t+1].time&&this.currentLabel!=this.labels.indexOf(lthis.abels[t])&&(this.currentLabel=this.labels.indexOf(this.labels[t]),this.labels[t].element.find("a").trigger("reached"))},this.initHandlers=function(e){(0,r.default)(".route__step a").on("click",function(e){e.preventDefault(),(0,r.default)(e.currentTarget).parent().trigger("mouseenter"),(0,r.default)(".route__step").removeClass("route__step--active"),(0,r.default)(".sep-vert").removeClass("sep-vert--transform"),(0,r.default)(e.currentTarget).parent().prev().find(".sep-vert").addClass("sep-vert--transform");var t=(0,r.default)(e.currentTarget).attr("href");this.labels[t].element.addClass("route__step--active")}.bind(this)),(0,r.default)(".route__step a").on("reached",function(e){e.preventDefault(),(0,r.default)(e.currentTarget).parent().trigger("mouseenter"),(0,r.default)(".route__step").removeClass("route__step--active"),(0,r.default)(".sep-vert").removeClass("sep-vert--transform"),(0,r.default)(e.currentTarget).parent().prev().find(".sep-vert").addClass("sep-vert--transform");var t=(0,r.default)(e.currentTarget).attr("href");this.labels[t].element.addClass("route__step--active")}.bind(this))},this.onPlayerReady=function(e){},this.stopVideo=function(){this.player.stopVideo()},this.init=function(){this.timer="",this.labels=[],this.initLabels(),this.initHandlers()}}},function(e,t,a){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}window.yall=function(e){var t=function(e){if("IMG"===e.tagName){var t=e.parentNode;"PICTURE"===t.tagName&&[].slice.call(t.querySelectorAll("source")).forEach(function(e){return a(e)}),a(e)}"VIDEO"===e.tagName&&([].slice.call(e.querySelectorAll("source")).forEach(function(e){return a(e)}),a(e),!0===e.autoplay&&e.load()),"IFRAME"===e.tagName&&(e.src=e.dataset.src,e.removeAttribute("data-src")),e.classList.contains(s.lazyBackgroundClass)&&(e.classList.remove(s.lazyBackgroundClass),e.classList.add(s.lazyBackgroundLoaded))},a=function(e){for(var t in e.dataset)-1!==r.acceptedDataAttributes.indexOf("data-"+t)&&(e.setAttribute(t,e.dataset[t]),e.removeAttribute("data-"+t))},o=function e(){var a=!1;!1===a&&0<c.length&&(a=!0,setTimeout(function(){c.forEach(function(e){e.getBoundingClientRect().top<=window.innerHeight+s.threshold&&e.getBoundingClientRect().bottom>=-s.threshold&&"none"!==getComputedStyle(e).display&&(!0===s.idlyLoad&&!0===r.idleCallbackSupport?requestIdleCallback(function(){t(e)},l):t(e),e.classList.remove(s.lazyClass),c=c.filter(function(t){return t!==e}))}),a=!1,0===c.length&&!1===s.observeChanges&&r.eventsToBind.forEach(function(t){return t[0].removeEventListener(t[1],e)})},s.throttleTime))},r={intersectionObserverSupport:"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,mutationObserverSupport:"MutationObserver"in window,idleCallbackSupport:"requestIdleCallback"in window,ignoredImgAttributes:["data-src","data-sizes","data-media","data-srcset","src","srcset"],acceptedDataAttributes:["data-src","data-sizes","data-media","data-srcset","data-poster"],eventsToBind:[[document,"scroll"],[document,"touchmove"],[window,"resize"],[window,"orientationchange"]]},s=n({lazyClass:"lazy",lazyBackgroundClass:"lazy-bg",lazyBackgroundLoaded:"lazy-bg-loaded",throttleTime:200,idlyLoad:!1,idleLoadTimeout:100,threshold:200,observeChanges:!1,observeRootSelector:"body",mutationObserverOptions:{childList:!0}},e),i="img."+s.lazyClass+",video."+s.lazyClass+",iframe."+s.lazyClass+",."+s.lazyBackgroundClass,l={timeout:s.idleLoadTimeout},c=[].slice.call(document.querySelectorAll(i));if(!0===r.intersectionObserverSupport){var u=new IntersectionObserver(function(e,a){e.forEach(function(e){if(!0===e.isIntersecting||0<e.intersectionRatio){var n=e.target;!0===s.idlyLoad&&!0===r.idleCallbackSupport?requestIdleCallback(function(){return t(n)},l):t(n),n.classList.remove(s.lazyClass),a.unobserve(n),c=c.filter(function(e){return e!==n})}})},{rootMargin:s.threshold+"px 0%"});c.forEach(function(e){return u.observe(e)})}else r.eventsToBind.forEach(function(e){return e[0].addEventListener(e[1],o)}),o();!0===r.mutationObserverSupport&&!0===s.observeChanges&&new MutationObserver(function(e){return e.forEach(function(){[].slice.call(document.querySelectorAll(i)).forEach(function(e){-1===c.indexOf(e)&&(c.push(e),!0===r.intersectionObserverSupport?u.observe(e):o())})})}).observe(document.querySelector(s.observeRootSelector),s.mutationObserverOptions)}}]);
//# sourceMappingURL=bundle.js.map